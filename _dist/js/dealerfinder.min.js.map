{"version":3,"sources":["dealerfinder.js"],"names":["map","geocoder","shadowUrl","zoomInit","currCulture","markers","Array","distancecode","themiles","arr","totalrec","image","shadow","zoom","latInit","lang","lngInit","initmap","latlng","myOptions","$","length","google","maps","Geocoder","LatLng","get_coordinate","mapTypeId","MapTypeId","region","address","Map","document","getElementById","show","val","results","setCenter","geometry","location","marker","html","geocode","status","GeocoderStatus","OK","lat","lng","gmap_location_lookup","Marker","position","center","userlat","userlng","hide","shape","number","ROADMAP","coord","type","each","msg","documentElement","getElementsByTagName","v","setMap","maxWidth","empty","ajax","url","__gm_id","distance","getAttribute","languageid","siteid","zoneguid","country","province","district","success","service","DistanceMatrixService","origin","destinations","UnitSystem","METRIC","InfoWindow","content","$i","jQuery","k","info_window_string","info_window_content","title","dest","phone","getDistanceMatrix","origins","travelMode","TravelMode","DRIVING","unitSystem","avoidHighways","callback","push","setContent","ctype","phoneFax","addListener","removeClass","addClass","click","name","distancenode","infowindow","open","appendTo","toggleBounce","event","animate","scrollIntoView","this","trigger","setZoom","found","locations","searchResultName","matchYourSearch","fadeIn","notFound","gmap_province_lookup","data","parentZone","thekm","avoidTolls","iZoom","find","text","parseFloat","Math","round","keyB","attr","marker2","nearYourLocation","setAnimation","response","originAddresses","sort_distance","numbersort","items","get","sort","a","b","keyA","ol","i","li","append","unitsSpan","dUnits","units","Animation","BOUNCE","DistanceMatrixStatus","rows","elements","j","un","element","value","toFixed","duration","changeDistanceUnits","milesToKm","streetView","StreetViewPanorama","zoomControl","addressControl","currentLatLng","direction","resetDirection","from","substring","street","enableCloseButton","panControl","linksControl","zoomHere","ori","directionsRenderer","DirectionsRenderer","setPanel","directionsService","DirectionsService","request","destination","DirectionsTravelMode","DirectionsUnitSystem","route","DirectionsStatus","setDirections","directionNotFound","directionBack","to","back","places","Autocomplete","ready","MarkerImage","iconUrl","Size","Point","parents","hasClass","gmap_marker","contentType","dataType","result","obj","d","key","Key","Name","eq","prop","change","error","isNaN","blur","t","window","setInterval","zoomTemp","clearInterval"],"mappings":"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","file":"dealerfinder.min.js","sourcesContent":["// Google Map API Standard Code\r\nvar map;\r\nvar geocoder;\r\n\r\nvar region = 'vn';\r\n\r\nvar markers = new Array();\r\n\r\nvar distancenode = '';\r\nvar distancecode = 0;\r\n\r\nvar themiles = '';\r\nvar thekm = '';\r\nvar arr = new Array();\r\nvar totalrec = 0;\r\n\r\nvar image;\r\nvar shadow;\r\nvar iconUrl = '/Data/Sites/1/media/default/map-icon.png';\r\nvar shadowUrl = '/Data/Sites/1/skins/default/images/map-shadow.png';\r\n\r\nvar zoomInit = 6;\r\nvar zoom = 12;\r\n\r\nvar latInit = 16.80299561823568;\r\nvar lngInit = 107.08573669062503;\r\n\r\nvar currCulture;\r\nvar lang = {};\r\nlang['en'] = { 'name': '', 'searchResultName': '<strong> An Phước store(s)</strong>', 'phone': 'Phone', 'address': 'Address', 'zoom': 'Zoom', 'direction': 'Direction', 'directionNotFound': 'Direction not found. Please try again', 'notFound': 'No results ', 'found': 'Found ', 'locations': ' ', 'matchYourSearch': ' match your search', 'nearYourLocation': ' near your location', 'from': 'From', 'to': 'To', 'back': 'Back' };\r\nlang['vi'] = { 'name': '', 'searchResultName': '<strong> cửa hàng An Phước</strong>', 'phone': 'Điện thoại', 'address': 'Địa chỉ', 'zoom': 'Phóng to', 'direction': 'Tìm đường đi', 'directionNotFound': 'Không tìm thấy đường đi. Vui lòng thử lại', 'notFound': 'Không tìm thấy địa điểm ', 'found': 'Có ', 'locations': ' ', 'matchYourSearch': ' phù hợp với tìm kiếm của bạn', 'nearYourLocation': ' gần với vị trí của bạn', 'from': 'Từ', 'to': 'Đến', 'back': 'Trở lại' };\r\n\r\n$(document).ready(function() {\r\n\r\n    currCulture = $('#hdfDealerLocatorCulture').val();\r\n\r\n    image = new google.maps.MarkerImage(\r\n        iconUrl,\r\n        new google.maps.Size(34, 46),\r\n        new google.maps.Point(0, 0),\r\n        new google.maps.Point(17, 46)\r\n    );\r\n    shadow = new google.maps.MarkerImage(\r\n        shadowUrl,\r\n        new google.maps.Size(60, 46),\r\n        new google.maps.Point(0, 0),\r\n        new google.maps.Point(17, 46)\r\n    );\r\n\r\n    $('p.distance-units label input:radio').click(function() {\r\n        var units = $(this).parents('label').attr('units');\r\n\r\n        if ($(this).parents('label').hasClass('unchecked')) {\r\n            changeDistanceUnits(units);\r\n        }\r\n\r\n    });\r\n\r\n    initmap();\r\n\r\n    //autocomplete text field\r\n\r\n    var autocomplete = new google.maps.places.Autocomplete($(\"#address\")[0], {});\r\n    var origin_autocomplete = new google.maps.places.Autocomplete($(\"#origin-direction\")[0], {});\r\n\r\n    if ($('#edit-submit').length) {\r\n        $('#edit-submit').click(function() {\r\n            var address = $('#address').val();\r\n            var distance = $('#distance').val();\r\n\r\n            //// search for available locations\r\n            //if (address != '') {\r\n            gmap_location_lookup(address, distance, region);\r\n            //} else {\r\n            //$('#ajax_msg').html(\"<ul class='alert alert-block alert-error fade in'><li>Vui lòng nhập địa chỉ.</li></ul>\");\r\n            //}\r\n\r\n            return false;\r\n        });\r\n    }\r\n\r\n    if ($('#ddlProvince').length) {\r\n        $.ajax({\r\n            type: \"POST\",\r\n            contentType: \"application/json; charset=utf-8\",\r\n            url: \"/DealerLocator/Services/GeoZoneService.asmx/LoadCountry\",\r\n            data: \"{'languageId': '\" + $(\"#hdnDealerLocatorLanguageId\").val() + \"'}\",\r\n            dataType: \"json\",\r\n            success: function(result) {\r\n                var obj = $(\"#ddlCountry\");\r\n                $(obj).empty();\r\n                $(obj).append($(\"<option></option>\").val(\"\").html($(\"#hdfDealerLocatorSelectCountry\").val()));\r\n                $.each(result.d, function(key, value) {\r\n                    $(obj).append($(\"<option></option>\").val(value.Key).html(value.Name));\r\n                });\r\n\r\n                if (obj.find('option').length == 2) {\r\n                    obj.addClass('hidden');\r\n                    obj.find('option').eq(1).prop('selected', true);\r\n                    $('#ddlCountry').trigger('change');\r\n                }\r\n            },\r\n            error: function(result) {}\r\n        });\r\n\r\n        $('#ddlCountry').change(function() {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                contentType: \"application/json; charset=utf-8\",\r\n                url: \"/DealerLocator/Services/GeoZoneService.asmx/LoadProvince\",\r\n                data: \"{'languageId': '\" + $(\"#hdnDealerLocatorLanguageId\").val() + \"', 'countryGuid': '\" + $('#ddlCountry').val() + \"'}\",\r\n                dataType: \"json\",\r\n                success: function(result) {\r\n                    var obj = $(\"#ddlProvince\");\r\n                    $(obj).empty();\r\n                    $(obj).append($(\"<option></option>\").val(\"\").html($(\"#hdfDealerLocatorSelectProvince\").val()));\r\n                    $.each(result.d, function(key, value) {\r\n                        $(obj).append($(\"<option></option>\").val(value.Key).html(value.Name));\r\n                    });\r\n                },\r\n                error: function(result) {\r\n\r\n                }\r\n            });\r\n        });\r\n\r\n        if ($('#ddlDistrict').length) {\r\n            $('#ddlProvince').change(function() {\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    contentType: \"application/json; charset=utf-8\",\r\n                    url: \"/DealerLocator/Services/GeoZoneService.asmx/LoadDistrict\",\r\n                    data: \"{'languageId': '\" + $(\"#hdnDealerLocatorLanguageId\").val() + \"', 'provinceGuid': '\" + $('#ddlProvince').val() + \"'}\",\r\n                    dataType: \"json\",\r\n                    success: function(result) {\r\n                        var obj = $(\"#ddlDistrict\");\r\n                        $(obj).empty();\r\n                        $(obj).append($(\"<option></option>\").val(\"\").html($(\"#hdfDealerLocatorSelectDistrict\").val()));\r\n                        $.each(result.d, function(key, value) {\r\n                            $(obj).append($(\"<option></option>\").val(value.Key).html(value.Name));\r\n                        });\r\n                    },\r\n                    error: function(result) {\r\n\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    if ($('#add #map_canvas').length) {\r\n\r\n        var lat = 10.8230989;\r\n        var lng = 106.6296638;\r\n\r\n        // get pre-populated value and focus map\r\n        var gmap_marker = false;\r\n        if ($('#latitude').length) {\r\n\r\n            val = $('#latitude').val() * 1;\r\n\r\n            if (val != '' && !isNaN(val)) {\r\n                lat = val;\r\n                gmap_marker = true;\r\n            }\r\n\r\n        }\r\n        if ($('#longitude').length) {\r\n\r\n            val = $('#longitude').val() * 1;\r\n\r\n            if (val != '' && !isNaN(val)) {\r\n                lng = val;\r\n            }\r\n        }\r\n\r\n        geocoder = new google.maps.Geocoder();\r\n\r\n        var latlng = new google.maps.LatLng(lat, lng);\r\n\r\n        // set map options\r\n        var myOptions = {\r\n            zoom: zoom,\r\n            center: latlng,\r\n            mapTypeId: google.maps.MapTypeId.ROADMAP\r\n        };\r\n        // display map\r\n        map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\r\n\r\n        if (gmap_marker) {\r\n            // create a map marker\r\n            var marker = new google.maps.Marker({\r\n                map: map,\r\n                position: latlng\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    if ($('#add #address').length) {\r\n\r\n        $('#add #address').blur(function() {\r\n\r\n            var address = $(this).val();\r\n\r\n            if (address != '') {\r\n\r\n                get_coordinate(address, region);\r\n            }\r\n        });\r\n    }\r\n\r\n    t = window.setInterval(delaylocationload, 100);\r\n\r\n    function delaylocationload() {\r\n        //        $.get(\"http://ipinfo.io\", function (response) {\r\n        //            var loc = response.loc.split(',');\r\n        //            if (loc.length == 2) {\r\n        //                gmap_location_lookup(response.city + \", \" + response.country, $('#distance').val(), '', loc[0], loc[1]);\r\n        //            }\r\n        //        }, \"jsonp\");\r\n\r\n        //        // Try HTML5 geolocation\r\n        //        if (navigator.geolocation) {\r\n        //            navigator.geolocation.getCurrentPosition(function (position) {\r\n        //                gmap_location_lookup('', $('#distance').val(), '', position.coords.latitude, position.coords.longitude);\r\n        //            }, function () {\r\n        //                handleNoGeolocation(true);\r\n        //            });\r\n        //        } else {\r\n        //            // Browser doesn't support Geolocation\r\n        //            handleNoGeolocation(false);\r\n        //        }\r\n\r\n        var zoomTemp = zoom;\r\n        zoom = zoomInit;\r\n        gmap_location_lookup('', $('#distance').val() + 100000, region, latInit, lngInit);\r\n        zoom = zoomTemp;\r\n\r\n        window.clearInterval(t);\r\n    }\r\n\r\n    function handleNoGeolocation(errorFlag) {\r\n        if (errorFlag) {\r\n            var content = 'Error: The Geolocation service failed.';\r\n        } else {\r\n            var content = 'Error: Your browser doesn\\'t support geolocation.';\r\n        }\r\n    }\r\n\r\n});\r\n\r\nfunction initmap() {\r\n    if ($('#map_canvas').length) {\r\n\r\n        // instantiate geocoder\r\n        geocoder = new google.maps.Geocoder();\r\n        // create new latitude / longitude object\r\n        var latlng = new google.maps.LatLng(latInit, lngInit);\r\n\r\n        // set map options\r\n        var myOptions = {\r\n            zoom: zoomInit,\r\n            center: latlng,\r\n            mapTypeId: google.maps.MapTypeId.ROADMAP\r\n        };\r\n\r\n        // display map\r\n        map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\r\n        // show the map div\r\n        $('#map_canvas').show();\r\n    }\r\n}\r\n\r\n/**\r\n * Retreiving location / address\r\n */\r\nfunction get_coordinate(address, region) {\r\n\r\n    if (region == null || region == '' || region == 'undefined') {\r\n        region = 'vn';\r\n    }\r\n\r\n    if (address != '') {\r\n        $('#ajax_msg').html('<p>Loading location</p>');\r\n\r\n        geocoder.geocode({ 'address': address, 'region': region }, function(results, status) {\r\n\r\n            if (status == google.maps.GeocoderStatus.OK) {\r\n                $('#ajax_msg').html('<p></p>');\r\n\r\n                $('#latitude').val(results[0].geometry.location.lat());\r\n                $('#longitude').val(results[0].geometry.location.lng());\r\n\r\n\r\n                map.setZoom(10);\r\n\r\n                map.setCenter(results[0].geometry.location);\r\n\r\n                var marker = new google.maps.Marker({\r\n                    map: map,\r\n                    position: results[0].geometry.location\r\n                });\r\n            } else {\r\n\r\n                $('#ajax_msg').html('<p>Google map geocoder failed: ' + status + '</p>');\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Google map location lookup\r\n */\r\nfunction gmap_location_lookup(address, distance, region, userlat, userlng) {\r\n\r\n    if (region == null || region == '') {\r\n        region = 'vn';\r\n    }\r\n\r\n    distancecode = 1;\r\n\r\n    if (address != '') {\r\n        $('#map_canvas').html(\"<img src='/Data/SiteImages/indicators/indicator1.gif' alt='Ajax Loading Image' />\").show();\r\n        $('#ajax_msg').hide();\r\n\r\n        geocoder = new google.maps.Geocoder();\r\n\r\n        geocoder.geocode({ 'address': address, 'region': region }, function(results, status) {\r\n\r\n            if (status == google.maps.GeocoderStatus.OK) {\r\n                lat = results[0].geometry.location.lat();\r\n                lng = results[0].geometry.location.lng();\r\n\r\n                myOptions = {\r\n                    zoom: zoom,\r\n                    center: new google.maps.LatLng(lat, lng),\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP\r\n                };\r\n\r\n                if (userlat != null && userlng != null) {\r\n                    myOptions = {\r\n                        zoom: zoom,\r\n                        center: new google.maps.LatLng(userlat, userlng),\r\n                        mapTypeId: google.maps.MapTypeId.ROADMAP\r\n                    };\r\n                }\r\n\r\n                map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\r\n\r\n                //                var marker = new google.maps.Marker({\r\n                //                    map: map,\r\n                //                    draggable: false,\r\n                //                    animation: google.maps.Animation.DROP,\r\n                //                    position: results[0].geometry.location,\r\n                //                    title: 'Your entered address'\r\n                //                });\r\n\r\n                var shape = {\r\n                    coord: [31, 0, 32, 1, 33, 2, 33, 3, 33, 4, 33, 5, 33, 6, 33, 7, 33, 8, 33, 9, 33, 10, 33, 11, 33, 12, 33, 13, 33, 14, 33, 15, 33, 16, 33, 17, 33, 18, 33, 19, 33, 20, 33, 21, 33, 22, 33, 23, 33, 24, 33, 25, 33, 26, 33, 27, 33, 28, 33, 29, 33, 30, 33, 31, 33, 32, 32, 33, 31, 34, 29, 35, 26, 36, 25, 37, 25, 38, 24, 39, 23, 40, 23, 41, 22, 42, 22, 43, 21, 44, 20, 45, 16, 45, 15, 44, 14, 43, 14, 42, 13, 41, 13, 40, 12, 39, 12, 38, 11, 37, 10, 36, 6, 35, 4, 34, 3, 33, 2, 32, 1, 31, 1, 30, 0, 29, 0, 28, 0, 27, 0, 26, 0, 25, 0, 24, 0, 23, 0, 22, 0, 21, 0, 20, 0, 19, 0, 18, 0, 17, 0, 16, 0, 15, 0, 14, 0, 13, 0, 12, 0, 11, 0, 10, 0, 9, 0, 8, 0, 7, 0, 6, 0, 5, 1, 4, 1, 3, 2, 2, 3, 1, 4, 0, 31, 0],\r\n                    type: 'poly'\r\n                };\r\n\r\n                // clear all markers\r\n                jQuery.each(markers, function(k, v) {\r\n                    v.setMap(null);\r\n                });\r\n\r\n                // clear list\r\n                $('#list').empty();\r\n\r\n                var number = 0;\r\n                $.ajax({\r\n                    url: \"/DealerLocator/Services/GetDealerXml.ashx\",\r\n                    dataType: \"xml\",\r\n                    type: \"GET\",\r\n                    //url:$('#clinic-finder-form').attr('action'),\r\n                    //data:\"ajax=1&action=get_nearby_stores&distance=\"+distance+\"&lat=\"+lat+\"&lng=\"+lng+\"&products=\"+$('#edit-products').val(),\r\n                    //data: \"distance=\" + distance + \"&lat=\" + lat + \"&lng=\" + lng + \"&languageid=\" + $('#hdnDealerLocatorLanguageId').val() + \"&siteid=\" + $('#hdnDealerLocatorSiteId').val() + \"&province=\" + $('#ddlProvince').val() + \"&zoneguid=\" + $('#hdnDealerLocatorZoneGuid').val() + \"&district=\" + $('#ddlDistrict').val(),\r\n                    data: {\r\n                        distance: distance,\r\n                        lat: lat,\r\n                        lng: lng,\r\n                        languageid: $('#hdnDealerLocatorLanguageId').val(),\r\n                        siteid: $('#hdnDealerLocatorSiteId').val(),\r\n                        zoneguid: $('#hdnDealerLocatorZoneGuid').val(),\r\n                        country: $('#ddlCountry').val(),\r\n                        province: $('#ddlProvince').val(),\r\n                        district: $('#ddlDistrict').val()\r\n                    },\r\n                    success: function(msg) {\r\n                        var results = msg.documentElement.getElementsByTagName(\"marker\");\r\n\r\n                        if (results.length > 0) {\r\n                            totalrec = results.length;\r\n\r\n                            var infowindow = new google.maps.InfoWindow({\r\n                                maxWidth: \"400\",\r\n                                content: ''\r\n                            });\r\n\r\n                            $i = 0;\r\n                            jQuery.each(results, function(k, v) {\r\n                                var marker = new google.maps.Marker({\r\n                                    __gm_id: $i++,\r\n                                    map: map,\r\n                                    position: new google.maps.LatLng(v.getAttribute(\"lat\"), v.getAttribute(\"lng\")),\r\n                                    //icon: v.getAttribute(\"icon\"),\r\n                                    shadow: shadow,\r\n                                    shape: shape,\r\n                                    title: v.getAttribute(\"name\") + ' : ' + v.getAttribute(\"address\")\r\n                                });\r\n\r\n                                // calc distance\r\n                                origin = new google.maps.LatLng(lat, lng);\r\n                                dest = new google.maps.LatLng(v.getAttribute(\"lat\"), v.getAttribute(\"lng\"));\r\n                                // set km / miles language\t\r\n                                themiles = 'miles'; //v.getAttribute(\"titlemiles\");\r\n                                thekm = 'km'; //v.getAttribute(\"titlekm\");\r\n\r\n                                var service = new google.maps.DistanceMatrixService();\r\n                                service.getDistanceMatrix({\r\n                                    origins: [origin],\r\n                                    destinations: [dest],\r\n                                    travelMode: google.maps.TravelMode.DRIVING,\r\n                                    unitSystem: google.maps.UnitSystem.METRIC,\r\n                                    avoidHighways: false,\r\n                                    avoidTolls: false\r\n                                }, callback);\r\n\r\n                                // add to markers\r\n                                markers.push(marker);\r\n\r\n\r\n                                // build content string\r\n                                var info_window_string = info_window_content(v);\r\n                                ctype = '';\r\n                                if (v.getAttribute(\"cat_img\") != null) {\r\n                                    var ctype = '<img src=\"' + v.getAttribute(\"cat_img\") + '\" style=\"max-width:15px; max-height:15px;\" />';\r\n                                }\r\n\r\n                                number++\r\n                                //distancenode = google.maps.geometry.spherical.computeDistanceBetween(origin, dest).toFixed(2);\r\n                                var phoneFax = \"\";\r\n                                if (v.getAttribute(\"phone\") != \"\") {\r\n                                    phoneFax += \"<div><span>\" + lang[currCulture].phone + \":</span> \" + v.getAttribute(\"phone\") + \"</div>\";\r\n                                }\r\n                                if (v.getAttribute(\"fax\") != \"\") {\r\n                                    phoneFax += \"<div><span>Fax:</span> \" + v.getAttribute(\"fax\") + \"</div>\";\r\n                                }\r\n                                if (v.getAttribute(\"des\") != \"\") {\r\n                                    phoneFax += \"<div><span>Giờ làm việc:</span> \" + v.getAttribute(\"des\") + \"</div>\";\r\n                                }\r\n                                if (number > 9) {\r\n                                    $(\"<li id='l_\" + marker['__gm_id'] + \"' class='clinic_list double-digit' />\")\r\n                                        .html(\"<span class='number'>\" + number + \"</span><div><strong>\" + lang[currCulture].name + v.getAttribute(\"name\") + \"</strong><div><span>\" + lang[currCulture].address + \":</span> \" + v.getAttribute(\"address\") + \"</div>\" + phoneFax + \"<div id=d_\" + number + \" class='distance'><span id='disval' attr-dist='\" + distancenode + \"' class='value'>\" + distancenode + \"</span> <span class='units'></span> <span class='time2'></span></div></div><div class='products'>\" + ctype + \"</div>\")\r\n                                        .click(function() {\r\n                                            //displayPoint(marker, i);\r\n                                            infowindow.setContent(info_window_string);\r\n                                            infowindow.open(map, marker);\r\n                                            toggleBounce(marker);\r\n                                        })\r\n                                        .appendTo(\"#list\");\r\n                                } else {\r\n                                    $(\"<li id='l_\" + marker['__gm_id'] + \"' class='clinic_list' />\")\r\n                                        .html(\"<span class='number'>\" + number + \"</span><div><strong>\" + lang[currCulture].name + v.getAttribute(\"name\") + \"</strong><div><span>\" + lang[currCulture].address + \":</span> \" + v.getAttribute(\"address\") + \"</div>\" + phoneFax + \"<div id=d_\" + number + \" class='distance'><span id='disval' attr-dist='\" + distancenode + \"' class='value'>\" + distancenode + \"</span> <span class='units'></span> <span class='time2'></span></div></div><div class='products'>\" + ctype + \"</div><a id='la_\" + marker['__gm_id'] + \"' name='la_\" + marker['__gm_id'] + \"'></a>\")\r\n                                        .click(function() {\r\n                                            //displayPoint(marker, i);\r\n                                            infowindow.setContent(info_window_string);\r\n                                            infowindow.open(map, marker);\r\n                                            toggleBounce(marker);\r\n                                        })\r\n                                        .appendTo(\"#list\");\r\n                                }\r\n\r\n                                // sort distance\r\n\r\n                                // attach popup to click event\r\n                                google.maps.event.addListener(marker, 'click', function() {\r\n                                    $('#list .clinic_list').removeClass('active');\r\n                                    $('#list').animate($(\"#l_\" + marker['__gm_id'])[0].scrollIntoView(true));\r\n\r\n                                    $('#l_' + marker['__gm_id']).addClass('active');\r\n                                    toggleBounce(marker);\r\n                                    infowindow.setContent(info_window_string);\r\n                                    infowindow.open(map, marker);\r\n                                });\r\n\r\n                            }); // end loop\r\n\r\n                            $('.clinic_list').click(function() {\r\n\r\n                                $('#list .clinic_list').removeClass('active');\r\n                                $(this).addClass('active');\r\n                                $('div[title=\"Exit Street View\"]').trigger('click');\r\n                                map.setZoom(10);\r\n\r\n                            });\r\n\r\n                            $('#ajax_msg').html(lang[currCulture].found + \"<span class='flash_good'>\" + results.length + \"</span>\" + lang[currCulture].locations + lang[currCulture].searchResultName + lang[currCulture].matchYourSearch).fadeIn();\r\n                        } else {\r\n                            //                $(\"<li  />\")\r\n                            //                                \t\t\t\t\t\t\t\t\t.html(\"<span class='number'>!</span><p>\" + results.msg + \"</p>\")\r\n                            //                                \t\t\t\t\t\t\t\t\t.click(function () {\r\n                            //                                \t\t\t\t\t\t\t\t\t    //displayPoint(marker, i);\r\n                            //                                \t\t\t\t\t\t\t\t\t    infowindow.setContent(info_window_string);\r\n                            //                                \t\t\t\t\t\t\t\t\t    infowindow.open(map, marker);\r\n                            //                                \t\t\t\t\t\t\t\t\t    toggleBounce(marker);\r\n                            //                                \t\t\t\t\t\t\t\t\t})\r\n                            //                                \t\t\t\t\t\t\t\t\t.appendTo(\"#list\");\r\n                            // $('#ajax_msg').html(\"<p class='alert alert-block alert-error fade in'>\" + results.msg + \"</p>\").fadeIn();\r\n\r\n                            initmap();\r\n                            $('#ajax_msg').html(lang[currCulture].notFound + lang[currCulture].searchResultName + lang[currCulture].matchYourSearch).fadeIn();\r\n                        }\r\n\r\n                        //sort_distance();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    } else {\r\n        gmap_province_lookup(distance, region, userlat, userlng);\r\n    }\r\n}\r\n\r\nfunction gmap_province_lookup(distance, region, userlat, userlng) {\r\n    $('#map_canvas').html(\"<img src='/Data/SiteImages/indicators/indicator1.gif' alt='Ajax Loading Image' />\").show();\r\n    $('#ajax_msg').hide();\r\n\r\n    //                var marker = new google.maps.Marker({\r\n    //                    map: map,\r\n    //                    draggable: false,\r\n    //                    animation: google.maps.Animation.DROP,\r\n    //                    position: results[0].geometry.location,\r\n    //                    title: 'Your entered address'\r\n    //                });\r\n\r\n    var shape = {\r\n        coord: [31, 0, 32, 1, 33, 2, 33, 3, 33, 4, 33, 5, 33, 6, 33, 7, 33, 8, 33, 9, 33, 10, 33, 11, 33, 12, 33, 13, 33, 14, 33, 15, 33, 16, 33, 17, 33, 18, 33, 19, 33, 20, 33, 21, 33, 22, 33, 23, 33, 24, 33, 25, 33, 26, 33, 27, 33, 28, 33, 29, 33, 30, 33, 31, 33, 32, 32, 33, 31, 34, 29, 35, 26, 36, 25, 37, 25, 38, 24, 39, 23, 40, 23, 41, 22, 42, 22, 43, 21, 44, 20, 45, 16, 45, 15, 44, 14, 43, 14, 42, 13, 41, 13, 40, 12, 39, 12, 38, 11, 37, 10, 36, 6, 35, 4, 34, 3, 33, 2, 32, 1, 31, 1, 30, 0, 29, 0, 28, 0, 27, 0, 26, 0, 25, 0, 24, 0, 23, 0, 22, 0, 21, 0, 20, 0, 19, 0, 18, 0, 17, 0, 16, 0, 15, 0, 14, 0, 13, 0, 12, 0, 11, 0, 10, 0, 9, 0, 8, 0, 7, 0, 6, 0, 5, 1, 4, 1, 3, 2, 2, 3, 1, 4, 0, 31, 0],\r\n        type: 'poly'\r\n    };\r\n\r\n    // clear all markers\r\n    jQuery.each(markers, function(k, v) {\r\n        v.setMap(null);\r\n    });\r\n\r\n    // clear list\r\n    $('#list').empty();\r\n\r\n    var parentZone = $('#hdnDealerLocatorZoneGuid').val();\r\n    var iZoom = zoom; // global variable reset when ajax call\r\n    var number = 0;\r\n    $.ajax({\r\n        url: \"/DealerLocator/Services/GetDealerXml.ashx\",\r\n        dataType: \"xml\",\r\n        type: \"GET\",\r\n        //url:$('#clinic-finder-form').attr('action'),\r\n        //data:\"ajax=1&action=get_nearby_stores&distance=\"+distance+\"&lat=\"+lat+\"&lng=\"+lng+\"&products=\"+$('#edit-products').val(),\r\n        //data: \"distance=\" + distance + \"&lat=\" + lat + \"&lng=\" + lng + \"&languageid=\" + $('#hdnDealerLocatorLanguageId').val() + \"&siteid=\" + $('#hdnDealerLocatorSiteId').val() + \"&province=\" + $('#ddlProvince').val() + \"&zoneguid=\" + $('#hdnDealerLocatorZoneGuid').val() + \"&district=\" + $('#ddlDistrict').val(),\r\n        data: {\r\n            distance: distance,\r\n            lat: userlat,\r\n            lng: userlng,\r\n            languageid: $('#hdnDealerLocatorLanguageId').val(),\r\n            siteid: $('#hdnDealerLocatorSiteId').val(),\r\n            zoneguid: parentZone,\r\n            country: $('#ddlCountry').val(),\r\n            province: $('#ddlProvince').val(),\r\n            district: $('#ddlDistrict').val()\r\n        },\r\n        success: function(msg) {\r\n            var results = msg.documentElement.getElementsByTagName(\"marker\");\r\n\r\n            if (results.length > 0) {\r\n                totalrec = results.length;\r\n\r\n                var infowindow = new google.maps.InfoWindow({\r\n                    maxWidth: \"400\",\r\n                    content: ''\r\n                });\r\n\r\n                myOptions = {\r\n                    zoom: iZoom,\r\n                    center: new google.maps.LatLng(results[0].getAttribute(\"lat\"), results[0].getAttribute(\"lng\")),\r\n                    mapTypeId: google.maps.MapTypeId.ROADMAP\r\n                };\r\n\r\n                if (userlat != null && userlng != null) {\r\n                    myOptions = {\r\n                        zoom: iZoom,\r\n                        center: new google.maps.LatLng(userlat, userlng),\r\n                        mapTypeId: google.maps.MapTypeId.ROADMAP\r\n                    };\r\n                }\r\n\r\n                map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\r\n\r\n                $i = 0;\r\n                jQuery.each(results, function(k, v) {\r\n                    var marker = new google.maps.Marker({\r\n                        __gm_id: $i++,\r\n                        map: map,\r\n                        position: new google.maps.LatLng(v.getAttribute(\"lat\"), v.getAttribute(\"lng\")),\r\n                        //icon: v.getAttribute(\"icon\"),\r\n                        shadow: shadow,\r\n                        shape: shape,\r\n                        title: v.getAttribute(\"name\") + ' : ' + v.getAttribute(\"address\")\r\n                    });\r\n\r\n                    if (userlat > 0 && userlng > 0) {\r\n                        // calc distance\r\n                        origin = new google.maps.LatLng(userlat, userlng);\r\n                        dest = new google.maps.LatLng(v.getAttribute(\"lat\"), v.getAttribute(\"lng\"));\r\n                        // set km / miles language\t\r\n                        themiles = 'miles'; //v.getAttribute(\"titlemiles\");\r\n                        thekm = 'km'; //v.getAttribute(\"titlekm\");\r\n\r\n                        var service = new google.maps.DistanceMatrixService();\r\n                        service.getDistanceMatrix({\r\n                            origins: [origin],\r\n                            destinations: [dest],\r\n                            travelMode: google.maps.TravelMode.DRIVING,\r\n                            unitSystem: google.maps.UnitSystem.METRIC,\r\n                            avoidHighways: false,\r\n                            avoidTolls: false\r\n                        }, callback);\r\n                    }\r\n\r\n                    // add to markers\r\n                    markers.push(marker);\r\n\r\n                    // build content string\r\n                    var info_window_string = info_window_content(v);\r\n                    ctype = '';\r\n                    if (v.getAttribute(\"cat_img\") != null) {\r\n                        var ctype = '<img src=\"' + v.getAttribute(\"cat_img\") + '\" style=\"max-width:15px; max-height:15px;\" />';\r\n                    }\r\n\r\n                    number++\r\n                    //distancenode = google.maps.geometry.spherical.computeDistanceBetween(origin, dest).toFixed(2);\r\n                    var phoneFax = \"\";\r\n                    if (v.getAttribute(\"phone\") != \"\") {\r\n                        phoneFax += \"<div><span>\" + lang[currCulture].phone + \":</span> \" + v.getAttribute(\"phone\") + \"</div>\";\r\n                    }\r\n                    if (v.getAttribute(\"fax\") != \"\") {\r\n                        phoneFax += \"<div><span>Fax:</span> \" + v.getAttribute(\"fax\") + \"</div>\";\r\n                    }\r\n                    if (v.getAttribute(\"des\") != \"\") {\r\n                        phoneFax += \"<div><span>Ưu đãi:</span> \" + v.getAttribute(\"des\") + \"</div>\";\r\n                    }\r\n                    if (number > 9) {\r\n                        $(\"<li id='l_\" + marker['__gm_id'] + \"' class='clinic_list double-digit' />\")\r\n                            .html(\"<span class='number'>\" + number + \"</span><div><strong>\" + lang[currCulture].name + v.getAttribute(\"name\") + \"</strong><div><span>\" + lang[currCulture].address + \":</span> \" + v.getAttribute(\"address\") + \"</div>\" + phoneFax + \"<div id=d_\" + number + \" class='distance'><span id='disval' attr-dist='\" + distancenode + \"' class='value'>\" + distancenode + \"</span> <span class='units'></span> <span class='time2'></span></div></div><div class='products'>\" + ctype + \"</div>\")\r\n                            .click(function() {\r\n                                //displayPoint(marker, i);\r\n                                infowindow.setContent(info_window_string);\r\n                                infowindow.open(map, marker);\r\n                                toggleBounce(marker);\r\n                            })\r\n                            .appendTo(\"#list\");\r\n                    } else {\r\n                        $(\"<li id='l_\" + marker['__gm_id'] + \"' class='clinic_list' />\")\r\n                            .html(\"<span class='number'>\" + number + \"</span><div><strong>\" + lang[currCulture].name + v.getAttribute(\"name\") + \"</strong><div><span>\" + lang[currCulture].address + \":</span> \" + v.getAttribute(\"address\") + \"</div>\" + phoneFax + \"<div id=d_\" + number + \" class='distance'><span id='disval' attr-dist='\" + distancenode + \"' class='value'>\" + distancenode + \"</span> <span class='units'></span> <span class='time2'></span></div></div><div class='products'>\" + ctype + \"</div><a id='la_\" + marker['__gm_id'] + \"' name='la_\" + marker['__gm_id'] + \"'></a>\")\r\n                            .click(function() {\r\n                                //displayPoint(marker, i);\r\n                                infowindow.setContent(info_window_string);\r\n                                infowindow.open(map, marker);\r\n                                toggleBounce(marker);\r\n                            })\r\n                            .appendTo(\"#list\");\r\n                    }\r\n\r\n                    // sort distance\r\n\r\n\r\n                    // attach popup to click event\r\n                    google.maps.event.addListener(marker, 'click', function() {\r\n                        $('#list .clinic_list').removeClass('active');\r\n                        $('#list').animate($(\"#l_\" + marker['__gm_id'])[0].scrollIntoView(true));\r\n\r\n                        $('#l_' + marker['__gm_id']).addClass('active');\r\n                        toggleBounce(marker);\r\n                        infowindow.setContent(info_window_string);\r\n                        infowindow.open(map, marker);\r\n                    });\r\n\r\n                }); // end loop\r\n\r\n                $('.clinic_list').click(function() {\r\n\r\n                    $('#list .clinic_list').removeClass('active');\r\n                    $(this).addClass('active');\r\n                    $('div[title=\"Exit Street View\"]').trigger('click');\r\n                    map.setZoom(10);\r\n\r\n                });\r\n\r\n                if (userlat > 0 && userlng > 0)\r\n                    $('#ajax_msg').html(lang[currCulture].found + \"<span class='flash_good'>\" + results.length + \"</span>\" + lang[currCulture].locations + lang[currCulture].searchResultName + lang[currCulture].nearYourLocation).fadeIn();\r\n                else\r\n                    $('#ajax_msg').html(lang[currCulture].found + \"<span class='flash_good'>\" + results.length + \"</span>\" + lang[currCulture].locations + lang[currCulture].searchResultName + lang[currCulture].matchYourSearch).fadeIn();\r\n            } else {\r\n                //                $(\"<li  />\")\r\n                //                                \t\t\t\t\t\t\t\t\t.html(\"<span class='number'>!</span><p>\" + results.msg + \"</p>\")\r\n                //                                \t\t\t\t\t\t\t\t\t.click(function () {\r\n                //                                \t\t\t\t\t\t\t\t\t    //displayPoint(marker, i);\r\n                //                                \t\t\t\t\t\t\t\t\t    infowindow.setContent(info_window_string);\r\n                //                                \t\t\t\t\t\t\t\t\t    infowindow.open(map, marker);\r\n                //                                \t\t\t\t\t\t\t\t\t    toggleBounce(marker);\r\n                //                                \t\t\t\t\t\t\t\t\t})\r\n                //                                \t\t\t\t\t\t\t\t\t.appendTo(\"#list\");\r\n                // $('#ajax_msg').html(\"<p class='alert alert-block alert-error fade in'>\" + results.msg + \"</p>\").fadeIn();\r\n\r\n                initmap();\r\n                $('#ajax_msg').html(lang[currCulture].notFound + lang[currCulture].searchResultName + lang[currCulture].matchYourSearch).fadeIn();\r\n            }\r\n        }\r\n    });\r\n\r\n}\r\n\r\n// sort distance\r\n\r\nfunction sort_distance() {\r\n\r\n    // r & d\r\n    var numbersort = 1;\r\n    var items = $('#list li').get();\r\n\r\n    items.sort(function(a, b) {\r\n\r\n\r\n        /*  Sort Alphabetical order \r\n\t  \r\n        var keyA = $(a).find('strong').text();\r\n        var keyB = $(b).find('strong').text();\r\n        console.log($(a).find('strong'));\r\n\t  \r\n        if (keyA < keyB) { return -1; }\r\n        if (keyA > keyB) { return 1; }\r\n\t   \r\n        */\r\n\r\n        /* Sort by distance  */\r\n\r\n        var keyA = $(a).find('#disval').text();\r\n        var keyB = $(b).find('#disval').text();\r\n        //console.log($(a).find('#disval').text());\r\n\r\n\r\n        if ((Math.round(parseFloat(keyA) * 100) / 100) < (Math.round(parseFloat(keyB) * 100) / 100)) { return -1; }\r\n        if ((Math.round(parseFloat(keyA) * 100) / 100) > (Math.round(parseFloat(keyB) * 100) / 100)) { return 1; }\r\n\r\n        return 0;\r\n    });\r\n\r\n\r\n    var ol = $('#list');\r\n    $.each(items, function(i, li) {\r\n        ol.append(li);\r\n        $('#' + $(li).attr('id') + ' .number').text(numbersort);\r\n        numbersort++;\r\n    });\r\n\r\n\r\n}\r\n\r\n// bouncing marker\r\n\r\nfunction toggleBounce(marker) {\r\n\r\n    $(markers).each(function(i, marker2) {\r\n\r\n        if (marker['__gm_id'] != marker2['__gm_id']) {\r\n            marker2.setAnimation(null);\r\n        }\r\n\r\n    });\r\n\r\n\r\n\r\n    if (marker.getAnimation() != null) {\r\n        marker.setAnimation(null);\r\n    } else {\r\n        marker.setAnimation(google.maps.Animation.BOUNCE);\r\n    }\r\n}\r\n\r\n//end function\r\n\r\nfunction callback(response, status) {\r\n    if (status == google.maps.DistanceMatrixStatus.OK) {\r\n        var origins = response.originAddresses;\r\n        var destinations = response.destinationAddresses;\r\n\r\n        for (var i = 0; i < origins.length; i++) {\r\n            var results = response.rows[i].elements;\r\n\r\n            for (var j = 0; j < results.length; j++) {\r\n                var element = results[j];\r\n                if (element != null) {\r\n                    var distance = (parseFloat(element.distance.value) / 1000).toFixed(1);\r\n\r\n                    var un = '';\r\n                    if ($('input[name=distance-units]:checked').val() == 'kms') {\r\n                        un = themiles;\r\n                    } else {\r\n                        un = thekm;\r\n                    }\r\n                    var duration = element.duration.text;\r\n                    var from = origins[i];\r\n                    var to = destinations[j];\r\n\r\n                    arr.push(distance);\r\n                }\r\n            }\r\n        }\r\n        distancecode++;\r\n\r\n        if (distancecode == (totalrec + 1)) {\r\n            distancecode = 0;\r\n            arr.sort(function(a, b) { return a - b });\r\n\r\n            for (k = 0; k <= arr.length; k++) {\r\n                $('#d_' + (k + 1) + ' .value').html(arr[k]);\r\n                $('#d_' + (k + 1) + ' .units').html(un);\r\n            }\r\n            arr = [];\r\n        }\r\n    }\r\n}\r\n\r\n// end function\r\n\r\n/**\r\n * Change distance miles and km\r\n */\r\n\r\nfunction changeDistanceUnits(units) {\r\n    var milesToKm = 0.621371192237334;\r\n    var results = $('#results');\r\n    var dUnits = results.find('p.distance-units label');\r\n    var distance = results.find('.distance');\r\n    var unitsSpan = distance.find('.units');\r\n    var valueSpan = distance.find('.value');\r\n\r\n    dUnits.removeClass('unchecked');\r\n    dUnits.filter(':not([units=\"' + units + '\"])').addClass('unchecked');\r\n\r\n    switch (units) {\r\n        case 'km':\r\n\r\n            unitsSpan.html(' ' + thekm + ' ');\r\n\r\n            $.each(distance, function(i, val) {\r\n                // values are already in kms so just round to 2 decimal places.\r\n                i++;\r\n                val = $('#d_' + i + ' .value').html();\r\n                val = parseFloat(val);\r\n\r\n                $('#d_' + i + ' .value').text((Math.round(val / milesToKm * 100) / 100));\r\n\r\n            });\r\n\r\n            break;\r\n\r\n        case 'miles':\r\n\r\n            unitsSpan.html(' ' + themiles + ' ');\r\n\r\n            $.each(distance, function(i, val) {\r\n                // Values are in kms so convert to miles then round down to two decimal places.\r\n                i++;\r\n                val = $('#d_' + i + ' .value').html();\r\n                val = parseFloat(val);\r\n\r\n                $('#d_' + i + ' .value').text(Math.round((val * milesToKm) * 100) / 100);\r\n            });\r\n\r\n            break;\r\n\r\n        default:\r\n    }\r\n}\r\n\r\nfunction info_window_content(v) {\r\n    var info_window_string = \"<div class='maps_popup'>\";\r\n\r\n    //    var splitaddress = \"\";\r\n    //    saddress = v.getAttribute(\"address\").split(\" \");\r\n    //    for (i = 0; i < saddress.length; i++) {\r\n    //        splitaddress += saddress[i] + \" \";\r\n    //        if (i == 4) {\r\n    //            splitaddress += \"<br>\";\r\n    //        }\r\n    //    }\r\n\r\n    info_window_string += \"<h1>\" + lang[currCulture].name + v.getAttribute(\"name\") + \"</h1>\";\r\n\r\n    if (v.getAttribute(\"image\") != null && v.getAttribute(\"image\") != '') {\r\n        info_window_string += \"<div class='image'><img src='\" + v.getAttribute(\"image\") + \"' alt='\" + v.getAttribute(\"name\") + \"' /></div>\";\r\n    }\r\n\r\n    if (v.getAttribute(\"address\") != null && v.getAttribute(\"address\") != '') {\r\n        info_window_string += \"<p class='address'><span>\" + lang[currCulture].address + \":</span> \" + v.getAttribute(\"address\") + \"</p>\";\r\n    }\r\n    if (v.getAttribute(\"phone\") != null && v.getAttribute(\"phone\") != '') {\r\n        info_window_string += \"<p class='tel'><span>\" + lang[currCulture].phone + \":</span> \" + v.getAttribute(\"phone\") + \"</p>\";\r\n    }\r\n    if (v.getAttribute(\"fax\") != null && v.getAttribute(\"fax\") != '') {\r\n        info_window_string += \"<p class='fax'><span>Fax:</span> \" + v.getAttribute(\"fax\") + \"</p>\";\r\n    }\r\n    if (v.getAttribute(\"email\") != null && v.getAttribute(\"email\") != '') {\r\n        info_window_string += \"<p class='email'><span>Email:</span> <a href='mailto:\" + v.getAttribute(\"email\") + \"'>\" + v.getAttribute(\"email\") + \"</a></p>\";\r\n    }\r\n\r\n    if (v.getAttribute(\"website\") != null && v.getAttribute(\"website\") != '') {\r\n\r\n        if (v.getAttribute(\"website\").substring(0, 4) != \"http\") {\r\n            info_window_string += \"<p class='web'><span>Website:</span> <a href='http://\" + v.getAttribute(\"website\") + \"' target='new'>http://\" + v.getAttribute(\"website\") + \"</a></p>\";\r\n        } else {\r\n            info_window_string += \"<p class='web'><span>Website:</span> <a href='\" + v.getAttribute(\"website\") + \"' target='new'>\" + v.getAttribute(\"website\") + \"</a></p>\";\r\n        }\r\n    }\r\n\r\n    if (v.getAttribute(\"des\") != null && v.getAttribute(\"des\") != '') {\r\n        info_window_string += \"<p class='description'>\" + v.getAttribute(\"des\") + \"</p>\";\r\n    }\r\n\r\n    info_window_string += \"<a href='javascript:zoomHere(\" + v.getAttribute(\"lat\") + \",\" + v.getAttribute(\"lng\") + \");'>\" + lang[currCulture].zoom + \"</a> <a href='javascript:direction(\\\"\" + v.getAttribute(\"address\") + \"\\\",\" + v.getAttribute(\"lat\") + \",\" + v.getAttribute(\"lng\") + \");'>\" + lang[currCulture].direction + \"</a>\";\r\n    info_window_string += \"</div>\";\r\n\r\n    return info_window_string;\r\n}\r\n\r\nfunction streetView(lat, lng) {\r\n\r\n    // street view\r\n    street = new google.maps.StreetViewPanorama(document.getElementById(\"map_canvas\"), {\r\n\r\n        position: new google.maps.LatLng(lat, lng),\r\n        zoomControl: false,\r\n        enableCloseButton: true,\r\n        addressControl: false,\r\n        panControl: true,\r\n        linksControl: true\r\n    });\r\n\r\n}\r\n\r\nfunction zoomHere(lat, lng) {\r\n\r\n    map.setZoom(15);\r\n    var currentLatLng = new google.maps.LatLng(lat, lng);\r\n    map.setCenter(currentLatLng);\r\n\r\n}\r\n\r\n\r\nfunction direction(dest, lat, lng) {\r\n\r\n    $('#direction').show();\r\n    $('#results').hide();\r\n    $('#dest-direction').val(dest);\r\n    $('#origin-direction').val($('#address').val());\r\n\r\n    $('#get-direction').click(function() {\r\n        var ori = $('#origin-direction').val();\r\n\r\n        map.setZoom(7);\r\n        var currentLatLng = new google.maps.LatLng(lat, lng);\r\n        map.setCenter(currentLatLng);\r\n\r\n        var directionsRenderer = new google.maps.DirectionsRenderer();\r\n        directionsRenderer.setMap(map);\r\n        directionsRenderer.setPanel(document.getElementById('direction'));\r\n\r\n        var directionsService = new google.maps.DirectionsService();\r\n        var request = {\r\n            origin: ori,\r\n            destination: dest,\r\n            travelMode: google.maps.DirectionsTravelMode.DRIVING,\r\n            unitSystem: google.maps.DirectionsUnitSystem.METRIC\r\n        };\r\n        directionsService.route(request, function(response, status) {\r\n            if (status == google.maps.DirectionsStatus.OK) {\r\n                directionsRenderer.setDirections(response);\r\n            } else {\r\n                //alert('Error: ' + status);\r\n                $('#direction').append('<table width=\"100%\"><tr><td>' + lang[currCulture].directionNotFound + '</td></tr></table>');\r\n            }\r\n        });\r\n\r\n        //$('#direction-form').nextAll().remove();\r\n\r\n        return false;\r\n    });\r\n}\r\n\r\nfunction directionBack() {\r\n\r\n    $('#direction').hide();\r\n    $('#results').show();\r\n    resetDirection();\r\n}\r\n\r\nfunction resetDirection() {\r\n    gmap_location_lookup($('#address').val(), $('#distance').val(), '');\r\n    $('#direction').html('');\r\n    $('#direction').html('<div id=\"direction-form\"><p><table><tr><td>' + lang[currCulture].from + ':</td><td><input id=\"origin-direction\" name=\"origin-direction\" class=\"orides-txt\" type=text /></td></tr><tr><td>' + lang[currCulture].to + ':</td><td><input id=\"dest-direction\" name=\"dest-direction\" class=\"orides-txt\" type=text readonly /></td></tr></table><div id=\"get-dir-button\" class=\"get-dir-button\"><input type=submit id=\"get-direction\" class=\"btn\" value=\"' + lang[currCulture].direction + '\"> <a href=\"javascript:directionBack()\">' + lang[currCulture].back + '</a></div></p></div>');\r\n    var origin_autocomplete = new google.maps.places.Autocomplete($(\"#origin-direction\")[0], {});\r\n}"]}